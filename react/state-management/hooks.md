---
description: >-
  Хуки — это функции, с помощью которых вы можете «подцепиться» к состоянию и
  методам жизненного цикла React из функциональных компонентов.
---

# Hooks

{% embed url="https://www.youtube.com/watch?v=9KJxaFHotqI&ab\_channel=%D0%92%D0%BB%D0%B0%D0%B4%D0%B8%D0%BB%D0%B5%D0%BD%D0%9C%D0%B8%D0%BD%D0%B8%D0%BD" %}

* `useState` __– наделяет функциональный компонент внутренним состоянием. React будет хранить это состояние между рендерами. Вызов `useState` возвращает две вещи: _текущее_ значение состояния и функцию для его обновления.
* `useEffect` __– можно выполнять побочные эффекты из функционального компонента. Он выполняет ту же роль, что и `componentDidMount`, `componentDidUpdate` и `componentWillUnmount`
* `useRef`– обеспечивает доступ к потомку в императивном стиле.
* `useMemo` _–_ для оптимизации \(кэширование\).
* `useCallback` __– для оптимизации, возвращает функцию.
* `useContext` – позволяет передавать данные через дерево компонентов без необходимости передавать пропсы на промежуточных уровнях.
* `useReducer` – Альтернатива для `useState` . Принимает редюсер типа `(state, action) => newState` и возвращает текущее состояние в паре с методом `dispatch`. Подобно Redux.
* _custom hooks –_ использование хуков вне реакт-компонентов.

**100% обратно совместимы.** Хуки не содержат изменений, которые могут поломать ваш существующий код.

В React нет способа «присоединить» повторно используемое поведение к компоненту \(например, подключение к хранилищу\). Если вы работали с React какое-то время, то вам могут быть знакомы такие паттерны, как [рендер-пропсы](https://ru.reactjs.org/docs/render-props.html) и [компоненты высшего порядка](https://ru.reactjs.org/docs/higher-order-components.html), которые пытаются решить эту проблему. Но эти паттерны заставляют вас изменять структуру компонентов, что делает код громоздким и трудным в поддержке. Если вы посмотрите на типичное React-приложение в React DevTools, то увидите «ад обёрток» из компонентов, окружённых провайдерами, консьюмерами, компонентами высшего порядка, рендер-пропсами и другими абстракциями. Хоть мы и можем [отфильтровать их в DevTools](https://github.com/facebook/react-devtools/pull/503), всё это указывает на более глубокую проблему в React. Нужен более удобный способ повторно использовать логику вокруг состояния.

С помощью хуков вы можете извлечь логику состояния из компонента, чтобы её протестировать или повторно использовать. **Хуки позволяют вам повторно использовать логику состояния, не затрагивая дерево компонентов.** Благодаря этому, хуки легко использовать в разных компонентах и делиться ими с сообществом.

В некоторых случаях невозможно разбить компоненты на более мелкие, потому что логика состояния раскидана повсюду. Такие компоненты сложно тестировать. Это одна из причин, по которой люди предпочитают использовать в React отдельную библиотеку для управления состоянием. Однако, это добавляет множество абстракций, заставляет прыгать между разными файлами и усложняет повторное использование компонентов.

Чтобы решить эту проблему, **хуки позволяют разбить один компонент на маленькие функции по их назначению \(например, подписке или загрузке данных\)**, а не на основе методов жизненного цикла. Вы также можете контролировать внутреннее состояние с помощью редюсера, чтобы поведение было более предсказуемым.

### Проблемы классов, который решают хуки

* трудно повторно использовать логику состояний между компонентами
* не паримся с this \(приходится помнить про привязку контекста для обработчиков событий\)
* классы плохо минифицируются
* горячая перезагрузка \(hot reloading\) ненадёжна и часто ломает их



